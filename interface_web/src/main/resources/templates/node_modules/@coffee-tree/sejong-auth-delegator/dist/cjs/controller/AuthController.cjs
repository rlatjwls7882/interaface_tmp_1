"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
class AuthController {
  constructor(authService, userProfileService) {
    this.authService = authService;
    this.userProfileService = userProfileService;
  }
  async authenticate(loginRequestDto) {
    const isAuthenticated = await this.authService.authenticate(loginRequestDto);
    return isAuthenticated;
  }
  async login(loginRequestDto) {
    const isAuthenticated = await this.authenticate(loginRequestDto);
    if (!isAuthenticated) {
      throw new Error("Login failed: User authentication failed");
    }
    const response = await this.userProfileService.fetchUserProfile(this.authService.cjsessionId);
    return response;
  }
}
var _default = exports.default = AuthController;